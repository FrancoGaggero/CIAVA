---
/**
 * Services Component
 * Servicios de CIAVA Studio
 */

const services = [
  {
    id: 1,
    title: 'Producciones de fotos y video para marcas',
    description: 'Contenido visual profesional para redes sociales, e-commerce y campañas.',
  },
  {
    id: 2,
    title: 'Asesoría de imagen y estilismo',
    description: 'Curaduría estética para marcas que buscan definir o reforzar su estética, y para personas que quieren mejorar su imagen.',
  },
  {
    id: 3,
    title: 'Polas para modelos',
    description: 'Polaroids profesionales, naturales y actuales para presentación a agencias.',
  },
  {
    id: 4,
    title: 'Fotografía de producto',
    description: 'Imágenes limpias y estéticas pensadas para destacar el producto.',
  }
];
---

<section id="services" class="bg-white py-16 sm:py-24 md:py-32 lg:py-40 px-4 sm:px-6">
  <div class="container mx-auto max-w-5xl">
    <!-- Título -->
    <div class="mb-12 sm:mb-16 md:mb-20 text-center">
      <div class="mb-6 sm:mb-8 inline-block">
        <div class="h-px w-10 sm:w-12 bg-black/20 mx-auto mb-6 sm:mb-8"></div>
        <h2 class="services-title text-xl sm:text-2xl font-light tracking-[0.2em] text-black md:text-3xl">
          SERVICIOS
        </h2>
        <div class="h-px w-10 sm:w-12 bg-black/20 mx-auto mt-6 sm:mt-8"></div>
      </div>
    </div>

    <!-- Lista de servicios -->
    <div class="space-y-6">
      {services.map((service, index) => (
        <div class="service-card group relative border border-black/5 bg-gray-50/20 p-5 sm:p-6 md:p-8 lg:p-10 transition-all duration-500 hover:border-black/20 hover:bg-white hover:shadow-2xl hover:-translate-y-1 overflow-hidden">
          <!-- Background animado en hover -->
          <div class="absolute inset-0 bg-gradient-to-r from-black/0 via-black/5 to-black/0 translate-x-[-100%] transition-transform duration-700 group-hover:translate-x-[100%]"></div>
          
          <div class="relative flex items-start gap-4 sm:gap-6">
            <span class="service-number text-3xl sm:text-4xl font-extralight tracking-widest text-black/20 pt-1 transition-all duration-500 group-hover:text-black/60 group-hover:scale-110">
              0{index + 1}
            </span>
            <div class="flex-1 space-y-2 sm:space-y-3">
              <h3 class="text-sm sm:text-base font-normal tracking-wide text-black md:text-lg transition-all duration-300 group-hover:tracking-wider group-hover:text-black">
                {service.title}
              </h3>
              <p class="text-xs sm:text-sm leading-relaxed sm:leading-loose text-black/60 font-light max-w-2xl">
                {service.description}
              </p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  import anime from 'animejs';

  function initServicesAnimations() {
    const serviceCards = document.querySelectorAll('.service-card');
    
    if (!serviceCards.length) return;
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && !entry.target.hasAttribute('data-animated')) {
          entry.target.setAttribute('data-animated', 'true');
          
          const cards = Array.from(serviceCards);
          const index = cards.indexOf(entry.target);
          
          anime({
            targets: entry.target,
            opacity: [0, 1],
            translateX: [-40, 0],
            duration: 800,
            delay: index * 150,
            easing: 'easeOutCubic',
          });
        }
      });
    }, { threshold: 0.1 });
    
    serviceCards.forEach(card => observer.observe(card));
  }
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initServicesAnimations);
  } else {
    initServicesAnimations();
  }
  
  document.addEventListener('astro:page-load', initServicesAnimations);
</script>
